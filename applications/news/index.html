<!doctype html>
<html ng-app="NewsApp">
  <head lang="en">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="https://code.angularjs.org/1.2.28/angular-route.min.js"></script>


  </head>

  <body>
    <div class="jumbotron">
      <div class="container">
        <div class="page-header">
          <h1 class="text-center"> Top Stories <small>from the New York Times</small></h1>
        </div>
        <div ng-controller="NewsController">
          <ul class="breadcrumb">
            <li ng-repeat="section in sections">
              <a href="#{{section}}" ng-click="queryNews(section)">{{ section }}</a>
            </li>
          </ul>
          <p>{{section}}</p>
        </div>
      </div>
    </div>

    <div ng-view>

    </div>

    <div class="text-right">
      <a href="http://developer.nytimes.com">
        <img src="http://graphics8.nytimes.com/packages/images/developer/logos/poweredby_nytimes_150c.png">
      </a>
    </div>

    <script type="text/javascript">
      var currentSection = "home";
    </script>
    <!-- Modules -->
    <script src="js/app.js"></script>

    <!-- Services -->
    <script src="js/services/news.js"></script>

  </body>

</html>

<script type="text/ng-template" id="home.html">
  <div class="container">
    <div class="row">
      <div ng-repeat="article in news.results">
          <div class="clearfix" ng-if="$index % 3 == 0"></div>
          <div class="col-sm-4">
            <a href="#/article/{{$index}}">
              <!--Normal image -->

              <img class="img-thumbnail" ng-src="{{ article.multimedia[4].url }}" style="width:auto;height:250px" title="{{article.multimedia[0].caption}}" ng-hide="article.multimedia == ''">
              <!-- Dummy Image if image doesnt exists -->
              <img class="img-thumbnail" src="https://www.berklee.edu/sites/default/files/the-new-york-times-logo.jpg" style="width:100%;height:250px" ng-show="article.multimedia == ''">
            </a>
            <a href="{{article.url}}">
              <h4 style="color:black"> {{ article.title }} </h4>
            </a>
            <p class="text-right"> {{ article.byline }} </p>
            <p> {{ article.abstract }} </p>
          </div>
      </div>
    </div>
  </div>
</script>

<script type="text/ng-template" id="article.html">

  <h1 class="text-center"> {{ article.title }} </h1>
  <img class="img-responsive" ng-src="{{ article.multimedia[4].url }}">
  <!-- Dummy Image if image doesnt exists -->
  <img class="img-responsive" src="https://www.berklee.edu/sites/default/files/the-new-york-times-logo.jpg" ng-show="article.multimedia == ''">

</script>
